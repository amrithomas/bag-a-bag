-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Tempo de geração: 04-Maio-2023 às 21:32
-- Versão do servidor: 10.4.27-MariaDB
-- versão do PHP: 8.2.0

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Banco de dados: `teste_bag`
--

-- --------------------------------------------------------

--
-- Estrutura da tabela `voo`
--

CREATE TABLE `voo` (
  `ID_VOO` int(11) NOT NULL,
  `FK_ORIGEM_AERO` int(11) NOT NULL,
  `FK_DESTINO_AERO` int(11) NOT NULL,
  `FK_ESCALA_IDA` int(11) DEFAULT NULL,
  `FK_ESCALA_VOLTA` int(11) DEFAULT NULL,
  `VALOR_PASSAGEM` decimal(10,2) NOT NULL,
  `IDA_HORARIO_PARTIDA` datetime NOT NULL,
  `IDA_HORARIO_CHEGADA` datetime NOT NULL,
  `VOLTA_HORARIO_PARTIDA` datetime DEFAULT NULL,
  `VOLTA_HORARIO_CHEGADA` datetime DEFAULT NULL,
  `FK_AVIAO_IDA` int(11) NOT NULL,
  `FK_AVIAO_VOLTA` int(11) DEFAULT NULL,
  `CRIADO` datetime NOT NULL,
  `MODIFICADO` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Extraindo dados da tabela `voo`
--

INSERT INTO `voo` (`ID_VOO`, `FK_ORIGEM_AERO`, `FK_DESTINO_AERO`, `FK_ESCALA_IDA`, `FK_ESCALA_VOLTA`, `VALOR_PASSAGEM`, `IDA_HORARIO_PARTIDA`, `IDA_HORARIO_CHEGADA`, `VOLTA_HORARIO_PARTIDA`, `VOLTA_HORARIO_CHEGADA`, `FK_AVIAO_IDA`, `FK_AVIAO_VOLTA`, `CRIADO`, `MODIFICADO`) VALUES
(1, 1, 9, 77, 79, '4000.00', '2023-04-27 16:30:00', '2023-04-28 16:29:00', '2023-05-28 16:29:00', '2023-05-29 16:29:00', 1, 4, '2023-04-27 16:30:02', NULL),
(2, 2, 9, NULL, NULL, '4499.99', '2023-04-28 16:30:00', '2023-04-29 16:30:00', '2023-05-29 16:30:00', '2023-05-30 16:30:00', 2, 2, '2023-04-27 16:30:29', NULL),
(3, 5, 9, NULL, NULL, '3799.99', '2023-04-29 16:30:00', '2023-04-30 16:30:00', '2023-05-15 16:30:00', '2023-05-16 16:30:00', 3, 3, '2023-04-27 16:31:00', NULL),
(4, 1, 8, 78, 80, '2999.99', '2023-04-30 16:31:00', '2023-05-01 16:31:00', '2023-05-16 16:31:00', '2023-05-17 16:31:00', 1, 1, '2023-04-27 16:31:54', NULL),
(6, 3, 6, NULL, NULL, '3999.99', '2023-05-01 16:30:00', '2023-05-01 18:00:00', '2023-05-20 16:32:00', '2023-05-21 16:32:00', 2, 2, '2023-04-27 16:32:27', NULL),
(7, 6, 5, NULL, NULL, '3399.99', '2023-05-02 16:30:00', '2023-05-02 19:30:00', NULL, NULL, 3, NULL, '2023-04-27 16:32:53', NULL);

--
-- Índices para tabelas despejadas
--

--
-- Índices para tabela `voo`
--
ALTER TABLE `voo`
  ADD PRIMARY KEY (`ID_VOO`),
  ADD KEY `FK_ORIGEM_AERO` (`FK_ORIGEM_AERO`),
  ADD KEY `FK_DESTINO_AERO` (`FK_DESTINO_AERO`),
  ADD KEY `FK_ESCALA_IDA` (`FK_ESCALA_IDA`),
  ADD KEY `FK_ESCALA_VOLTA` (`FK_ESCALA_VOLTA`),
  ADD KEY `FK_AVIAO_IDA` (`FK_AVIAO_IDA`),
  ADD KEY `FK_AVIAO_VOLTA` (`FK_AVIAO_VOLTA`);

--
-- AUTO_INCREMENT de tabelas despejadas
--

--
-- AUTO_INCREMENT de tabela `voo`
--
ALTER TABLE `voo`
  MODIFY `ID_VOO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- Restrições para despejos de tabelas
--

--
-- Limitadores para a tabela `voo`
--
ALTER TABLE `voo`
  ADD CONSTRAINT `voo_ibfk_1` FOREIGN KEY (`FK_ORIGEM_AERO`) REFERENCES `aeroporto` (`ID_AEROPORTO`),
  ADD CONSTRAINT `voo_ibfk_2` FOREIGN KEY (`FK_DESTINO_AERO`) REFERENCES `aeroporto` (`ID_AEROPORTO`),
  ADD CONSTRAINT `voo_ibfk_3` FOREIGN KEY (`FK_ESCALA_IDA`) REFERENCES `escala` (`ID_ESCALA`),
  ADD CONSTRAINT `voo_ibfk_4` FOREIGN KEY (`FK_ESCALA_VOLTA`) REFERENCES `escala` (`ID_ESCALA`),
  ADD CONSTRAINT `voo_ibfk_5` FOREIGN KEY (`FK_AVIAO_IDA`) REFERENCES `aviao` (`ID_AVIAO`),
  ADD CONSTRAINT `voo_ibfk_6` FOREIGN KEY (`FK_AVIAO_VOLTA`) REFERENCES `aviao` (`ID_AVIAO`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
